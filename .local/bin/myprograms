#!/bin/sh

# Just another Magick Script for convenience.

appslist="$HOME/.local/share/extras/scripts/appslist"
spells="$HOME/.local/share/extras/scripts/spells"

glamor="FrozenPackages\nSpells\nOwls"

evoke=$(echo -e "$glamor" | dmenu -i)

case "$evoke" in
	FrozenPackages)
		less "$appslist" | grep -P "^$(less "$appslist" | grep ";" | sed 's/\t.*//g' | dmenu -i -p "All Programs: (ESC to cancel)" -l 170 | awk '{print $1}')\s" | sed 's/.*\t;//' | ${SHELL:-"/bin/bash"} & ;;
	Spells)
		less "$spells" | grep -P "^$(less "$spells" | grep ";" | sed 's/\t.*//g' | dmenu -i -p "All Spells: (ESC to cancel)" -l 170 | awk '{print $1}')\s" | sed 's/.*\t;//' | ${SHELL:-"/bin/bash"} & ;;
	Owls)
		owl ;;
esac
