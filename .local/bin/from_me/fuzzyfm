#!/bin/sh


file="$(ls -a | fzf -m --layout=reverse-list --border --no-info --prompt=">_ " --pointer="üéÉ" --marker="üï∏Ô∏è"  --header="üçÅFuzzy Surfer"  --preview='prv {}' --height 70)"


handle() {
	if [ -f "$file" ];
	then
		xdg-open "$file"
	elif [ -d "$file" ];
	then
		cd "$file" && "$0"
	fi
}

case "$file" in
    *.png|*.jpg|*.jpeg) sxiv "$file";;
    *.md) emacs -nw "$file";;
    *.pdf) zathura "$file";;
    *.zip) ext "$file";;
    *.tar.gz) tar -ztvf "$file";;
    *.tar.bz2) tar -jtvf "$file";;
    *.tar) tar -tvf "$file";;
    *.rar) unrar l "$file";;
    *.7z) 7z l "$file";;
    *.html|*.xml) w3m -dump "$file";;
    .zsh*|*.bash*|*.git*) nvim "$file";;
    *.docx) libreoffice "$file";;
    *.odt) libreoffice "$file";;
    *.csv|*.xlsx) sc-im	"$file";;
    *) handle "$file" ;;
esac
